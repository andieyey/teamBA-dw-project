version: 2


models:
  - name: monthly_category_revenue
    description: "Monthly revenue aggregated by product category"
    columns:
      - name: sale_month
        description: "Month of the sale"
        tests:
        - not_null
      - name: category_name
        description: "Product category name"
        tests:
        - not_null
      - name: total_revenue
        description: "Total revenue for the category in that month"


  - name: top_customers
    description: "Top 10 customers by total spending"
    columns:
      - name: customer_id
        description: "Unique customer identifier"
        tests:
          - not_null
      - name: customer_name
        description: "Full name of the customer"
      - name: total_spent
        description: "Total amount spent by customer"
      - name: rnk
        description: "Rank based on spending"

  
  - name: business_kpis
    description: "Daily business KPIs including transactions, revenue, and growth metrics"
    columns:
      - name: sale_date
        description: "Date of sales"
        tests:
          - not_null
      - name: total_revenue
        description: "Total revenue for the day"


  - name: customer_segmentation
    description: "Customer segmentation using RFM analysis (Recency, Frequency, Monetary)"
    columns:
      - name: customer_id
        description: "Unique customer identifier"
        tests:
          - not_null
      - name: customer_segment
        description: "Customer segment classification"


  - name: product_performance
    description: "Comprehensive product performance metrics"
    columns:
      - name: product_id
        description: "Unique product identifier"
        tests:
          - not_null
      - name: product_name
        description: "Name of the product"
      - name: total_revenue
        description: "Total revenue generated by product"
      - name: product_status
        description: "Performance classification of product"


  - name: sales_team_performance
    description: "Sales team member performance metrics"
    columns:
      - name: employee_id
        description: "Unique employee identifier"
        tests:
          - not_null
      - name: employee_name
        description: "Full name of employee"
      - name: total_revenue
        description: "Total revenue generated by employee"


  - name: discount_impact_analysis
    description: "Analysis of discount effectiveness on sales"
    columns:
      - name: discount_tier
        description: "Discount percentage tier"
        tests:
          - not_null
      - name: total_revenue
        description: "Total revenue for discount tier"


  - name: monthly_growth_metrics
    description: "Month-over-month and year-over-year growth tracking"
    columns:
      - name: sale_month
        description: "Month of analysis"
        tests:
          - not_null
      - name: total_revenue
        description: "Total monthly revenue"
      - name: mom_revenue_growth
        description: "Month-over-month revenue growth percentage"


  - name: geography_performance
    description: "Sales performance by geographic location"
    columns:
      - name: country_name
        description: "Country name"
      - name: city_name
        description: "City name"
      - name: total_revenue
        description: "Total revenue for the location"


  - name: sales_trend_by_region
    description: "Monthly sales trends by region"
    columns:
      - name: sale_month
        description: "Month of the sale"
        tests:
          - not_null
      - name: city_name
        description: "City name"
      - name: country_name
        description: "Country name"
      - name: revenue
        description: "Total revenue for the region in that month"

  - name: seasonal_sales
    description: "Seasonal sales patterns by month"
    columns:
      - name: month_number
        description: "Month number (1-12)"
        tests:
          - not_null
      - name: avg_monthly_revenue
        description: "Average monthly revenue for this month across all years"
      - name: max_monthly_revenue
        description: "Maximum monthly revenue for this month"
      - name: min_monthly_revenue
        description: "Minimum monthly revenue for this month"